(()=>{var B=Math.min,S=Math.max,N=Math.round;var R=t=>({x:t,y:t});function X(t,e,o){return S(t,B(e,o))}function q(t,e){return typeof t=="function"?t(e):t}function z(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function K(t){return t==="x"?"y":"x"}function Z(t){return t==="y"?"height":"width"}function V(t){return["top","bottom"].includes(z(t))?"y":"x"}function tt(t){return K(V(t))}function bt(t){return{top:0,right:0,bottom:0,left:0,...t}}function et(t){return typeof t!="number"?bt(t):{top:t,right:t,bottom:t,left:t}}function P(t){let{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function nt(t,e,o){let{reference:n,floating:i}=t,c=V(e),s=tt(e),l=Z(s),a=z(e),r=c==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2,d;switch(a){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:f};break;case"left":d={x:n.x-i.width,y:f};break;default:d={x:n.x,y:n.y}}switch(Q(e)){case"start":d[s]-=m*(o&&r?-1:1);break;case"end":d[s]+=m*(o&&r?-1:1);break}return d}var ot=async(t,e,o)=>{let{placement:n="bottom",strategy:i="absolute",middleware:c=[],platform:s}=o,l=c.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e)),r=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=nt(r,n,a),m=n,d={},h=0;for(let p=0;p<l.length;p++){let{name:g,fn:w}=l[p],{x,y:v,data:E,reset:b}=await w({x:u,y:f,initialPlacement:n,placement:m,strategy:i,middlewareData:d,rects:r,platform:s,elements:{reference:t,floating:e}});u=x??u,f=v??f,d={...d,[g]:{...d[g],...E}},b&&h<=50&&(h++,typeof b=="object"&&(b.placement&&(m=b.placement),b.rects&&(r=b.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:u,y:f}=nt(r,m,a)),p=-1)}return{x:u,y:f,placement:m,strategy:i,middlewareData:d}};async function it(t,e){var o;e===void 0&&(e={});let{x:n,y:i,platform:c,rects:s,elements:l,strategy:a}=t,{boundary:r="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:d=0}=q(e,t),h=et(d),g=l[m?f==="floating"?"reference":"floating":f],w=P(await c.getClippingRect({element:(o=await(c.isElement==null?void 0:c.isElement(g)))==null||o?g:g.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(l.floating)),boundary:r,rootBoundary:u,strategy:a})),x=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(c.getOffsetParent==null?void 0:c.getOffsetParent(l.floating)),E=await(c.isElement==null?void 0:c.isElement(v))?await(c.getScale==null?void 0:c.getScale(v))||{x:1,y:1}:{x:1,y:1},b=P(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:v,strategy:a}):x);return{top:(w.top-b.top+h.top)/E.y,bottom:(b.bottom-w.bottom+h.bottom)/E.y,left:(w.left-b.left+h.left)/E.x,right:(b.right-w.right+h.right)/E.x}}var st=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:o,y:n,placement:i}=e,{mainAxis:c=!0,crossAxis:s=!1,limiter:l={fn:g=>{let{x:w,y:x}=g;return{x:w,y:x}}},...a}=q(t,e),r={x:o,y:n},u=await it(e,a),f=V(z(i)),m=K(f),d=r[m],h=r[f];if(c){let g=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=d+u[g],v=d-u[w];d=X(x,d,v)}if(s){let g=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=h+u[g],v=h-u[w];h=X(x,h,v)}let p=l.fn({...e,[m]:d,[f]:h});return{...p,data:{x:p.x-o,y:p.y-n,enabled:{[m]:c,[f]:s}}}}}};function I(){return typeof window<"u"}function D(t){return ct(t)?(t.nodeName||"").toLowerCase():"#document"}function y(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function T(t){var e;return(e=(ct(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ct(t){return I()?t instanceof Node||t instanceof y(t).Node:!1}function A(t){return I()?t instanceof Element||t instanceof y(t).Element:!1}function C(t){return I()?t instanceof HTMLElement||t instanceof y(t).HTMLElement:!1}function rt(t){return!I()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof y(t).ShadowRoot}function M(t){let{overflow:e,overflowX:o,overflowY:n,display:i}=O(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function lt(t){return["table","td","th"].includes(D(t))}function $(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _(t){let e=Y(),o=A(t)?O(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function at(t){let e=L(t);for(;C(e)&&!k(e);){if(_(e))return e;if($(e))return null;e=L(e)}return null}function Y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function k(t){return["html","body","#document"].includes(D(t))}function O(t){return y(t).getComputedStyle(t)}function H(t){return A(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function L(t){if(D(t)==="html")return t;let e=t.assignedSlot||t.parentNode||rt(t)&&t.host||T(t);return rt(e)?e.host:e}function ft(t){let e=L(t);return k(e)?t.ownerDocument?t.ownerDocument.body:t.body:C(e)&&M(e)?e:ft(e)}function j(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);let i=ft(t),c=i===((n=t.ownerDocument)==null?void 0:n.body),s=y(i);if(c){let l=U(s);return e.concat(s,s.visualViewport||[],M(i)?i:[],l&&o?j(l):[])}return e.concat(i,j(i,[],o))}function U(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mt(t){let e=O(t),o=parseFloat(e.width)||0,n=parseFloat(e.height)||0,i=C(t),c=i?t.offsetWidth:o,s=i?t.offsetHeight:n,l=N(o)!==c||N(n)!==s;return l&&(o=c,n=s),{width:o,height:n,$:l}}function gt(t){return A(t)?t:t.contextElement}function F(t){let e=gt(t);if(!C(e))return R(1);let o=e.getBoundingClientRect(),{width:n,height:i,$:c}=mt(e),s=(c?N(o.width):o.width)/n,l=(c?N(o.height):o.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}var At=R(0);function ht(t){let e=y(t);return!Y()||!e.visualViewport?At:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ot(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==y(t)?!1:e}function W(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);let i=t.getBoundingClientRect(),c=gt(t),s=R(1);e&&(n?A(n)&&(s=F(n)):s=F(t));let l=Ot(c,o,n)?ht(c):R(0),a=(i.left+l.x)/s.x,r=(i.top+l.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(c){let m=y(c),d=n&&A(n)?y(n):n,h=m,p=U(h);for(;p&&n&&d!==h;){let g=F(p),w=p.getBoundingClientRect(),x=O(p),v=w.left+(p.clientLeft+parseFloat(x.paddingLeft))*g.x,E=w.top+(p.clientTop+parseFloat(x.paddingTop))*g.y;a*=g.x,r*=g.y,u*=g.x,f*=g.y,a+=v,r+=E,h=y(p),p=U(h)}}return P({width:u,height:f,x:a,y:r})}function G(t,e){let o=H(t).scrollLeft;return e?e.left+o:W(T(t)).left+o}function pt(t,e,o){o===void 0&&(o=!1);let n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(o?0:G(t,n)),c=n.top+e.scrollTop;return{x:i,y:c}}function Rt(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t,c=i==="fixed",s=T(n),l=e?$(e.floating):!1;if(n===s||l&&c)return o;let a={scrollLeft:0,scrollTop:0},r=R(1),u=R(0),f=C(n);if((f||!f&&!c)&&((D(n)!=="body"||M(s))&&(a=H(n)),C(n))){let d=W(n);r=F(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}let m=s&&!f&&!c?pt(s,a,!0):R(0);return{width:o.width*r.x,height:o.height*r.y,x:o.x*r.x-a.scrollLeft*r.x+u.x+m.x,y:o.y*r.y-a.scrollTop*r.y+u.y+m.y}}function Ct(t){return Array.from(t.getClientRects())}function Tt(t){let e=T(t),o=H(t),n=t.ownerDocument.body,i=S(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),c=S(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),s=-o.scrollLeft+G(t),l=-o.scrollTop;return O(n).direction==="rtl"&&(s+=S(e.clientWidth,n.clientWidth)-i),{width:i,height:c,x:s,y:l}}function Lt(t,e){let o=y(t),n=T(t),i=o.visualViewport,c=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){c=i.width,s=i.height;let r=Y();(!r||r&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:c,height:s,x:l,y:a}}function Et(t,e){let o=W(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,c=C(t)?F(t):R(1),s=t.clientWidth*c.x,l=t.clientHeight*c.y,a=i*c.x,r=n*c.y;return{width:s,height:l,x:a,y:r}}function ut(t,e,o){let n;if(e==="viewport")n=Lt(t,o);else if(e==="document")n=Tt(T(t));else if(A(e))n=Et(e,o);else{let i=ht(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return P(n)}function wt(t,e){let o=L(t);return o===e||!A(o)||k(o)?!1:O(o).position==="fixed"||wt(o,e)}function St(t,e){let o=e.get(t);if(o)return o;let n=j(t,[],!1).filter(l=>A(l)&&D(l)!=="body"),i=null,c=O(t).position==="fixed",s=c?L(t):t;for(;A(s)&&!k(s);){let l=O(s),a=_(s);!a&&l.position==="fixed"&&(i=null),(c?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||M(s)&&!a&&wt(t,s))?n=n.filter(u=>u!==s):i=l,s=L(s)}return e.set(t,n),n}function Pt(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t,s=[...o==="clippingAncestors"?$(e)?[]:St(e,this._c):[].concat(o),n],l=s[0],a=s.reduce((r,u)=>{let f=ut(e,u,i);return r.top=S(f.top,r.top),r.right=B(f.right,r.right),r.bottom=B(f.bottom,r.bottom),r.left=S(f.left,r.left),r},ut(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Dt(t){let{width:e,height:o}=mt(t);return{width:e,height:o}}function kt(t,e,o){let n=C(e),i=T(e),c=o==="fixed",s=W(t,!0,c,e),l={scrollLeft:0,scrollTop:0},a=R(0);if(n||!n&&!c)if((D(e)!=="body"||M(i))&&(l=H(e)),n){let m=W(e,!0,c,e);a.x=m.x+e.clientLeft,a.y=m.y+e.clientTop}else i&&(a.x=G(i));let r=i&&!n&&!c?pt(i,l):R(0),u=s.left+l.scrollLeft-a.x-r.x,f=s.top+l.scrollTop-a.y-r.y;return{x:u,y:f,width:s.width,height:s.height}}function J(t){return O(t).position==="static"}function dt(t,e){if(!C(t)||O(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return T(t)===o&&(o=o.ownerDocument.body),o}function xt(t,e){let o=y(t);if($(t))return o;if(!C(t)){let i=L(t);for(;i&&!k(i);){if(A(i)&&!J(i))return i;i=L(i)}return o}let n=dt(t,e);for(;n&&lt(n)&&J(n);)n=dt(n,e);return n&&k(n)&&J(n)&&!_(n)?o:n||at(t)||o}var Mt=async function(t){let e=this.getOffsetParent||xt,o=this.getDimensions,n=await o(t.floating);return{reference:kt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ft(t){return O(t).direction==="rtl"}var Bt={convertOffsetParentRelativeRectToViewportRelativeRect:Rt,getDocumentElement:T,getClippingRect:Pt,getOffsetParent:xt,getElementRects:Mt,getClientRects:Ct,getDimensions:Dt,getScale:F,isElement:A,isRTL:Ft};var yt=st;var vt=(t,e,o)=>{let n=new Map,i={platform:Bt,...o},c={...i.platform,_c:n};return ot(t,e,{...i,platform:c})};(function(){console.log("\u2705 content.js \u304C\u5B9F\u884C\u3055\u308C\u307E\u3057\u305F");let t=null,e=!1;function o(l){fetch("http://localhost:8000/headline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:l})}).then(a=>a.json()).then(a=>{a.judge?alert("\u2705 \u898B\u51FA\u3057\u306F\u9069\u5207\u3067\u3059\u3002"):alert(`\u{1F4A1} AI\u306B\u3088\u308B\u65B0\u3057\u3044\u898B\u51FA\u3057\u63D0\u6848:
${a.headline}`)}).catch(()=>alert("\u26A0\uFE0F \u8A18\u4E8B\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002"))}if(!/^https:\/\/www\.goo\.ne\.jp\//.test(location.href)){console.log("\u26A0\uFE0F \u3053\u306E\u30DA\u30FC\u30B8\u306F\u5BFE\u8C61\u5916\u3067\u3059\u3002");return}function n(l,a){let r=document.createElement("button");return r.className="tooltip",r.innerText=l,r.style.position="absolute",r.style.backgroundColor="#ffffff",r.style.color="#000000",r.style.padding="4px 20px",r.style.border="2px solid #4a8a57",r.style.borderRadius="4px",r.style.fontSize="12px",r.style.zIndex="1000",r.style.whiteSpace="nowrap",r.style.cursor="pointer",r.addEventListener("click",u=>{u.stopPropagation(),u.preventDefault();let f=null;if(a.tagName==="A")f=a.href;else{let m=a.closest("a");m&&(f=m.href)}f?(console.log(`\u8A18\u4E8BURL: ${f}`),o(f)):(console.error("\u8A18\u4E8BURL\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002"),console.log("\u30C7\u30D0\u30C3\u30B0\u60C5\u5831:",a.outerHTML))}),r.addEventListener("mouseenter",()=>{e=!0}),r.addEventListener("mouseleave",()=>{e=!1,e||(c(r),t=null)}),r}function i(l,a){vt(l,a,{placement:"right",middleware:[yt()]}).then(({x:r,y:u})=>{Object.assign(a.style,{left:`${r}px`,top:`${u}px`})})}function c(l){l&&l.parentNode&&l.parentNode.removeChild(l)}new MutationObserver(()=>{let l=document.querySelectorAll("a[id^='pcnews-topstories'], span.module-ranking-word, span.module-caption-text");console.log(`\u{1F7E1} \u898B\u51FA\u3057\u30EA\u30F3\u30AF\u6570\uFF1A${l.length} \u4EF6`),l.forEach(a=>{a.dataset.tooltipInitialized||(a.dataset.tooltipInitialized="true",a.addEventListener("mouseenter",()=>{let r="AI\u898B\u51FA\u3057";t&&(c(t),t=null);let u=n(r,a);t=u,document.body.appendChild(u),i(a,u)}),a.addEventListener("mouseleave",()=>{!e&&t&&(c(t),t=null)}))})}).observe(document.body,{childList:!0,subtree:!0})})();})();
//# sourceMappingURL=content.js.map
